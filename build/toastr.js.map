{"version":3,"sources":["toastr.js"],"names":["define","$","polarToCartesian","centerX","centerY","radius","angleInDegrees","angleInRadians","Math","PI","x","cos","y","sin","describeArc","startAngle","endAngle","start","end","arcSweep","d","join","pad","n","width","z","length","Array","error","message","title","optionsOverride","notify","type","toastType","iconClass","getOptions","iconClasses","getContainer","options","create","$container","containerId","createContainer","info","subscribe","callback","listener","success","warning","clear","$toastElement","clearOptions","clearToast","clearContainer","remove","removeToast","children","toastsToClear","i","force","hideMethod","duration","hideDuration","easing","hideEasing","complete","attr","addClass","positionClass","appendTo","target","getDefaults","tapToDismiss","toastClass","debug","showMethod","showDuration","showEasing","onShown","undefined","onHidden","extendedTimeOut","timeOut","titleClass","messageClass","closeHtml","newestOnTop","preventDuplicates","progressBar","showTimer","timerOptions","size","stroke","noExtendedTimeout","publish","args","map","personalizeToast","setIcon","setTitle","setMessage","setCloseButton","setProgressBar","setSequence","setBlocker","handleEvents","hover","stickAround","delayedHideToast","onclick","click","hideToast","closeButton","$closeElement","event","stopPropagation","cancelBubble","displayToast","hide","intervalId","setTimeout","maxHideTime","parseFloat","hideEta","Date","getTime","setInterval","updateProgress","prepend","append","$titleElement","$messageElement","$timerElement","find","css","height","blockUi","$blockerElement","on","e","$progressElement","shouldExit","previousToast","override","clearTimeout","response","state","endTime","stop","percentage","totalSeconds","seconds","floor","minutes","text","extend","toastId","startTime","console","log","toastr","is","version","amd","deps","factory","module","exports","require","window"],"mappings":"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","file":"toastr.js","sourcesContent":["/*\r\n * Toastr\r\n * Copyright 2012-2015\r\n * Authors: John Papa, Hans FjÃ¤llemark, and Tim Ferrell.\r\n * All Rights Reserved.\r\n * Use, reproduction, distribution, and modification of this code is subject to the terms and\r\n * conditions of the MIT license, available at http://www.opensource.org/licenses/mit-license.php\r\n *\r\n * ARIA Support: Greta Krafsig\r\n *\r\n * Project: https://github.com/CodeSeven/toastr\r\n */\r\n/* global define */\r\n; (function (define) {\r\n    define(['jquery'], function ($) {\r\n        return (function () {\r\n            var $container;\r\n            var listener;\r\n            var toastId = 0;\r\n            var toastType = {\r\n                error: 'error',\r\n                info: 'info',\r\n                success: 'success',\r\n                warning: 'warning'\r\n            };\r\n\r\n            var toastr = {\r\n                clear: clear,\r\n                remove: remove,\r\n                error: error,\r\n                getContainer: getContainer,\r\n                info: info,\r\n                options: {},\r\n                subscribe: subscribe,\r\n                success: success,\r\n                version: '2.1.1',\r\n                warning: warning\r\n            };\r\n\r\n            var previousToast;\r\n\r\n            return toastr;\r\n\r\n            ////////////////\r\n\r\n            function error(message, title, optionsOverride) {\r\n                return notify({\r\n                    type: toastType.error,\r\n                    iconClass: getOptions().iconClasses.error,\r\n                    message: message,\r\n                    optionsOverride: optionsOverride,\r\n                    title: title\r\n                });\r\n            }\r\n\r\n            function getContainer(options, create) {\r\n                if (!options) { options = getOptions(); }\r\n                $container = $('#' + options.containerId);\r\n                if ($container.length) {\r\n                    return $container;\r\n                }\r\n                if (create) {\r\n                    $container = createContainer(options);\r\n                }\r\n                return $container;\r\n            }\r\n\r\n            function info(message, title, optionsOverride) {\r\n                return notify({\r\n                    type: toastType.info,\r\n                    iconClass: getOptions().iconClasses.info,\r\n                    message: message,\r\n                    optionsOverride: optionsOverride,\r\n                    title: title\r\n                });\r\n            }\r\n\r\n            function subscribe(callback) {\r\n                listener = callback;\r\n            }\r\n\r\n            function success(message, title, optionsOverride) {\r\n                return notify({\r\n                    type: toastType.success,\r\n                    iconClass: getOptions().iconClasses.success,\r\n                    message: message,\r\n                    optionsOverride: optionsOverride,\r\n                    title: title\r\n                });\r\n            }\r\n\r\n            function warning(message, title, optionsOverride) {\r\n                return notify({\r\n                    type: toastType.warning,\r\n                    iconClass: getOptions().iconClasses.warning,\r\n                    message: message,\r\n                    optionsOverride: optionsOverride,\r\n                    title: title\r\n                });\r\n            }\r\n\r\n            function clear($toastElement, clearOptions) {\r\n                var options = getOptions();\r\n                if (!$container) { getContainer(options); }\r\n                if (!clearToast($toastElement, options, clearOptions)) {\r\n                    clearContainer(options);\r\n                }\r\n            }\r\n\r\n            function remove($toastElement) {\r\n                var options = getOptions();\r\n                if (!$container) { getContainer(options); }\r\n                if ($toastElement && $(':focus', $toastElement).length === 0) {\r\n                    removeToast($toastElement);\r\n                    return;\r\n                }\r\n                if ($container.children().length) {\r\n                    $container.remove();\r\n                }\r\n            }\r\n\r\n            // internal functions\r\n\r\n            function clearContainer (options) {\r\n                var toastsToClear = $container.children();\r\n                for (var i = toastsToClear.length - 1; i >= 0; i--) {\r\n                    clearToast($(toastsToClear[i]), options);\r\n                }\r\n            }\r\n\r\n            function clearToast ($toastElement, options, clearOptions) {\r\n                var force = clearOptions && clearOptions.force ? clearOptions.force : false;\r\n                if ($toastElement && (force || $(':focus', $toastElement).length === 0)) {\r\n                    $toastElement[options.hideMethod]({\r\n                        duration: options.hideDuration,\r\n                        easing: options.hideEasing,\r\n                        complete: function () { removeToast($toastElement); }\r\n                    });\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n\r\n            function createContainer(options) {\r\n                $container = $('<div/>')\r\n                    .attr('id', options.containerId)\r\n                    .addClass(options.positionClass)\r\n                    .attr('aria-live', 'polite')\r\n                    .attr('role', 'alert');\r\n\r\n                $container.appendTo($(options.target));\r\n                return $container;\r\n            }\r\n\r\n            function getDefaults() {\r\n                return {\r\n                    tapToDismiss: true,\r\n                    toastClass: 'toast',\r\n                    containerId: 'toast-container',\r\n                    debug: false,\r\n\r\n                    showMethod: 'fadeIn', //fadeIn, slideDown, and show are built into jQuery\r\n                    showDuration: 300,\r\n                    showEasing: 'swing', //swing and linear are built into jQuery\r\n                    onShown: undefined,\r\n                    hideMethod: 'fadeOut',\r\n                    hideDuration: 1000,\r\n                    hideEasing: 'swing',\r\n                    onHidden: undefined,\r\n\r\n                    extendedTimeOut: 1000,\r\n                    iconClasses: {\r\n                        error: 'toast-error',\r\n                        info: 'toast-info',\r\n                        success: 'toast-success',\r\n                        warning: 'toast-warning'\r\n                    },\r\n                    iconClass: 'toast-info',\r\n                    positionClass: 'toast-top-right',\r\n                    timeOut: 5000, // Set timeOut and extendedTimeOut to 0 to make it sticky\r\n                    titleClass: 'toast-title',\r\n                    messageClass: 'toast-message',\r\n                    target: 'body',\r\n                    closeHtml: '<button type=\"button\">&times;</button>',\r\n                    newestOnTop: true,\r\n                    preventDuplicates: false,\r\n                    progressBar: false,\r\n                    showTimer: false,\r\n                    timerOptions: {\r\n                        size: 56,\r\n                        stroke: 5\r\n                    },\r\n                    noExtendedTimeout: false\r\n                };\r\n            }\r\n\r\n            function publish(args) {\r\n                if (!listener) { return; }\r\n                listener(args);\r\n            }\r\n\r\n            function notify(map) {\r\n                var options = getOptions();\r\n                var iconClass = map.iconClass || options.iconClass;\r\n\r\n                if (typeof (map.optionsOverride) !== 'undefined') {\r\n                    options = $.extend(options, map.optionsOverride);\r\n                    iconClass = map.optionsOverride.iconClass || iconClass;\r\n                }\r\n\r\n                if (shouldExit(options, map)) { return; }\r\n\r\n                toastId++;\r\n\r\n                $container = getContainer(options, true);\r\n\r\n                var intervalId = null;\r\n                var $toastElement = $('<div/>');\r\n                var $titleElement = $('<div/>');\r\n                var $messageElement = $('<div/>');\r\n                var $progressElement = $('<div/>');\r\n                var $blockerElement = $('<div class=\"toast-blocker\"/>');\r\n                var $closeElement = $(options.closeHtml);\r\n                var $timerElement = $(\r\n                    '<div class=\"toast-timer\">' +\r\n                        '<svg>' +\r\n                            '<path fill=\"none\" stroke=\"#ffffff\" />' +\r\n                            '<text fill=\"#ffffff\" text-anchor=\"middle\" dominant-baseline=\"central\"></text>' +\r\n                        '</svg>' +\r\n                    '</div>'\r\n                );\r\n                var progressBar = {\r\n                    intervalId: null,\r\n                    hideEta: null,\r\n                    maxHideTime: null\r\n                };\r\n                var response = {\r\n                    toastId: toastId,\r\n                    state: 'visible',\r\n                    startTime: new Date(),\r\n                    options: options,\r\n                    map: map\r\n                };\r\n\r\n                personalizeToast();\r\n\r\n                displayToast();\r\n\r\n                handleEvents();\r\n\r\n                publish(response);\r\n\r\n                if (options.debug && console) {\r\n                    console.log(response);\r\n                }\r\n\r\n                return $toastElement;\r\n\r\n                function personalizeToast() {\r\n                    setIcon();\r\n                    setTitle();\r\n                    setMessage();\r\n                    setCloseButton();\r\n                    setProgressBar();\r\n                    setSequence();\r\n                    setBlocker();\r\n                }\r\n\r\n                function handleEvents() {\r\n                    if(!options.noExtendedTimeout) {\r\n                        $toastElement.hover(stickAround, delayedHideToast);\r\n                    }\r\n\r\n                    if (!options.onclick && options.tapToDismiss) {\r\n                        $toastElement.click(hideToast);\r\n                    }\r\n\r\n                    if (options.closeButton && $closeElement) {\r\n                        $closeElement.click(function (event) {\r\n                            if (event.stopPropagation) {\r\n                                event.stopPropagation();\r\n                            } else if (event.cancelBubble !== undefined && event.cancelBubble !== true) {\r\n                                event.cancelBubble = true;\r\n                            }\r\n                            hideToast(true);\r\n                        });\r\n                    }\r\n\r\n                    if (options.onclick) {\r\n                        $toastElement.click(function () {\r\n                            options.onclick();\r\n                            hideToast();\r\n                        });\r\n                    }\r\n                }\r\n\r\n                function displayToast() {\r\n                    $toastElement.hide();\r\n\r\n                    $toastElement[options.showMethod](\r\n                        {duration: options.showDuration, easing: options.showEasing, complete: options.onShown}\r\n                    );\r\n\r\n                    if (options.timeOut > 0) {\r\n                        intervalId = setTimeout(hideToast, options.timeOut);\r\n                        progressBar.maxHideTime = parseFloat(options.timeOut);\r\n                        progressBar.hideEta = new Date().getTime() + progressBar.maxHideTime;\r\n                        //if (options.progressBar) {\r\n                            progressBar.intervalId = setInterval(updateProgress, 10);\r\n                        //}\r\n                    }\r\n                }\r\n\r\n                function setIcon() {\r\n                    if (map.iconClass) {\r\n                        $toastElement.addClass(options.toastClass).addClass(iconClass);\r\n                    }\r\n                }\r\n\r\n                function setSequence() {\r\n                    if (options.newestOnTop) {\r\n                        $container.prepend($toastElement);\r\n                    } else {\r\n                        $container.append($toastElement);\r\n                    }\r\n                }\r\n\r\n                function setTitle() {\r\n                    if (map.title) {\r\n                        $titleElement.append(map.title).addClass(options.titleClass);\r\n                        $toastElement.append($titleElement);\r\n                    }\r\n                }\r\n\r\n                function setMessage() {\r\n                    if (map.message) {\r\n                        $messageElement.append(map.message).addClass(options.messageClass);\r\n                        $toastElement.append($messageElement);\r\n                    }\r\n                    if(options.showTimer) {\r\n                        var size = options.timerOptions.size;\r\n                        var stroke = options.timerOptions.stroke;\r\n\r\n                        $toastElement.prepend($timerElement);\r\n                        $timerElement.find(\"svg\").css({width: size, height: size});\r\n                        $timerElement.find(\"text\").attr({x: size/2, y: size/2});\r\n                        $timerElement.find(\"path\")\r\n                            .attr('stroke-width', stroke);\r\n                    }\r\n                }\r\n\r\n                function setCloseButton() {\r\n                    if (options.closeButton) {\r\n                        $closeElement.addClass('toast-close-button').attr('role', 'button');\r\n                        $toastElement.prepend($closeElement);\r\n                    }\r\n                }\r\n\r\n                function setBlocker() {\r\n                    if (options.blockUi) {\r\n                        $('body').prepend($blockerElement);\r\n                        $container.on(\"DOMNodeRemoved\", function(e) {\r\n                            if(e.target == $toastElement[0]) {\r\n                                $blockerElement.remove();\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n\r\n                function setProgressBar() {\r\n                    if (options.progressBar) {\r\n                        $progressElement.addClass('toast-progress');\r\n                        $toastElement.prepend($progressElement);\r\n                    }\r\n                }\r\n\r\n                function shouldExit(options, map) {\r\n                    if (options.preventDuplicates) {\r\n                        if (map.message === previousToast) {\r\n                            return true;\r\n                        } else {\r\n                            previousToast = map.message;\r\n                        }\r\n                    }\r\n                    return false;\r\n                }\r\n\r\n                function hideToast(override) {\r\n                    if ($(':focus', $toastElement).length && !override) {\r\n                        return;\r\n                    }\r\n                    clearTimeout(progressBar.intervalId);\r\n                    return $toastElement[options.hideMethod]({\r\n                        duration: options.hideDuration,\r\n                        easing: options.hideEasing,\r\n                        complete: function () {\r\n                            removeToast($toastElement);\r\n                            if (options.onHidden && response.state !== 'hidden') {\r\n                                options.onHidden();\r\n                            }\r\n                            response.state = 'hidden';\r\n                            response.endTime = new Date();\r\n                            publish(response);\r\n                        }\r\n                    });\r\n                }\r\n\r\n                function delayedHideToast() {\r\n                    if (options.timeOut > 0 || options.extendedTimeOut > 0) {\r\n                        intervalId = setTimeout(hideToast, options.extendedTimeOut);\r\n                        progressBar.maxHideTime = parseFloat(options.extendedTimeOut);\r\n                        progressBar.hideEta = new Date().getTime() + progressBar.maxHideTime;\r\n                    }\r\n                }\r\n\r\n                function stickAround() {\r\n                    progressBar.maxHideTime = parseFloat(options.extendedTimeOut);\r\n                    clearTimeout(intervalId);\r\n                    progressBar.hideEta = 0;\r\n                    $toastElement.stop(true, true)[options.showMethod](\r\n                        {duration: options.showDuration, easing: options.showEasing}\r\n                    );\r\n                }\r\n\r\n                function updateProgress() {\r\n                    var percentage = ((progressBar.hideEta - (new Date().getTime())) / progressBar.maxHideTime) * 100;\r\n                    if(percentage < 0) {\r\n                        percentage = 100;\r\n                    }\r\n\r\n                    $progressElement.width(percentage + '%');\r\n                    if (options.showTimer) {\r\n                        var size = options.timerOptions.size;\r\n                        var stroke = options.timerOptions.stroke;\r\n\r\n                        $timerElement.find(\"path\")\r\n                            .attr(\"d\", describeArc(size/2, size/2, size/2 - stroke / 2, (100-percentage) * 360 / 100, 359.99));\r\n\r\n                        var totalSeconds = percentage * progressBar.maxHideTime / 100 / 1000;\r\n                        var seconds = Math.floor(totalSeconds % 60);\r\n                        var minutes = Math.floor(totalSeconds / 60);\r\n                        var text = pad(minutes || 0, 2) + ':' + pad(seconds || 0, 2);\r\n                        $timerElement.find('text').text(text);\r\n                    }\r\n                }\r\n            }\r\n\r\n            function getOptions() {\r\n                return $.extend({}, getDefaults(), toastr.options);\r\n            }\r\n\r\n            function removeToast($toastElement) {\r\n                if (!$container) { $container = getContainer(); }\r\n                if ($toastElement.is(':visible')) {\r\n                    return;\r\n                }\r\n                $toastElement.remove();\r\n                $toastElement = null;\r\n                if ($container.children().length === 0) {\r\n                    $container.remove();\r\n                    previousToast = undefined;\r\n                }\r\n            }\r\n\r\n        })();\r\n\r\n\r\n        function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\r\n            var angleInRadians = (angleInDegrees-90) * Math.PI / 180.0;\r\n\r\n            return {\r\n                x: centerX + (radius * Math.cos(angleInRadians)),\r\n                y: centerY + (radius * Math.sin(angleInRadians))\r\n            };\r\n        }\r\n\r\n        function describeArc(x, y, radius, startAngle, endAngle){\r\n\r\n            var start = polarToCartesian(x, y, radius, endAngle);\r\n            var end = polarToCartesian(x, y, radius, startAngle);\r\n\r\n            var arcSweep = endAngle - startAngle <= 180 ? \"0\" : \"1\";\r\n\r\n            var d = [\r\n                \"M\", start.x, start.y,\r\n                \"A\", radius, radius, 0, arcSweep, 0, end.x, end.y\r\n            ].join(\" \");\r\n\r\n            return d;\r\n        }\r\n\r\n        function pad(n, width, z) {\r\n            z = z || '0';\r\n            n = n + '';\r\n            return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\r\n        }\r\n    });\r\n}(typeof define === 'function' && define.amd ? define : function (deps, factory) {\r\n    if (typeof module !== 'undefined' && module.exports) { //Node\r\n        module.exports = factory(require('jquery'));\r\n    } else {\r\n        window['toastr'] = factory(window['jQuery']);\r\n    }\r\n}));\r\n"],"sourceRoot":"/source/"}